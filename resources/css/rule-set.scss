@import "respond-to.scss";
@import "variables.scss";

img {
	// Thanks to http://stackoverflow.com/a/22604736/1592377
	// without this, one gets additional whitespace in some places
	display: block;

	max-width: 100%;
	height: auto;
}

figure {
	display: flex;
	flex-direction: column;
	justify-content: space-around;

	max-width: 100%;

	// IE doesn't support min-content, not even with prefix.
	// This works too, as long as the images are all 420px wide.
	width: 420px;
	width: -moz-min-content;
	width: -webkit-min-content;
	width: min-content;

	height: auto;

	margin: .5em .5em 1.5em;
}

ul, ol {
	padding-left: 22px;
}

%flow-list {
	display: flex;
	flex-wrap: wrap;

	& > div {
		margin: .4em;
		padding: .2em;

		border: 2px solid $borderGrey;
	}
}

.piece-list {
	@extend %flow-list;

	& img {
		width: 60px;
		height: auto;
	}

	& > div {
		display: flex;
		align-items: center;

		width: 230px;
		padding-left: .6em;
		font-size: 1.05em;

		& > :first-child {
			padding-right: .5em;
		}

		& > :nth-child(2) {
			flex-grow: 1;
		}
	}
}

.terrain-list {
	@extend %flow-list;

	justify-content: space-around;
	text-align: center;

	& img {
		width: 60px;
		height: auto;
	}

	& .icon {
		// to make the abolute positioning of the pieces works
		position: relative;
	}

	& img.piece {
		position: absolute;
		top: 0;
		left: 0;
	}

	& > div {
		display: flex;
		align-items: center;
		justify-content: space-between;

		// 320px (lowest supported resolution)
		// - 2 * 16px (site padding)
		// - 2 * 5px (margin)
		width: 278px;

		& > :nth-child(2) {
			flex-grow: 1;
		}
	}
}

.picture-grid {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-around;

	text-align: center;

	@include respond-to-max($break-small) {
		flex-direction: column;
		align-items: center;
	}
}

.movement-interference-grid {
	@extend .picture-grid;
}

@include respond-to-more-than($break-medium) {
	.movement-interference-grid {
		& img:nth-child(1) { order: 1; }
		& img:nth-child(2) { order: 4; }
		& img:nth-child(3) { order: 2; }
		& img:nth-child(4) { order: 5; }
		& img:nth-child(5) { order: 3; }
		& img:nth-child(6) { order: 6; }
	}
}
